## HTTP

---

<bR>

<IMG SRC="https://user-images.githubusercontent.com/62149784/188299947-eeb9ab7c-9d48-486f-aeb0-8b5b12872950.png">

<BR>

- HTTP(Hyper Text Transfer Protocol)μ€ HTML λ¬Έμ„μ™€ κ°™μ€ λ¦¬μ†μ¤λ“¤μ„ κ°€μ Έμ¬ μ μλ„λ΅ ν•΄μ£Όλ” ν”„λ΅ν† μ½ μ…λ‹λ‹¤. μ›Ή λΈλΌμ°μ €μ™€ μ›Ή μ„λ²„κ°„μ ν†µμ‹ μ„ μ„ν•΄ λ””μμΈ λμ—μµλ‹λ‹¤.

- HTTP μ”μ²­μ΄ λ°μƒν•λ©΄ λΈλΌμ°μ €λ” HTTP μ”μ²­ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•κ³  TCP/IP ν”„λ΅ν† μ½μ„ μ΄μ©ν•μ—¬ μ›Ή μ„λ²„μ— μ”μ²­μ„ μ „λ‹¬ν•©λ‹λ‹¤. μ΄ν›„ λΈλΌμ°μ €λ” μ›Ή μ„λ²„λ΅λ¶€ν„° HTTP μ‘λ‹µμ„ μ „λ‹¬ λ°›μµλ‹λ‹¤.

- μ›Ήμƒμ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„ ν†µμ‹ μ„ μ„ν• ν”„λ΅ν† μ½

- HTTP ν”„λ΅ν† μ½μ€ μ–΄ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ— μ†ν•λ” ν”„λ΅ν† μ½μ΄κ³  μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ ν†µμ‹ μ„ ν•κΈ° μ„ν•΄μ„λ” μ „μ†΅ κ³„μΈµμ„ ν†µκ³Όν•΄μ•Όν•λ‹¤. HTTP ν”„λ΅ν† μ½ κ°™μ€ κ²½μ°μ—λ” μ‹ λΆ°μ„± μλ” μ—°κ²°λ§ ν•΄μ¤„ μ μλ‹¤λ©΄ μ „μ†΅ ν”„λ΅ν† μ½μ„ λ¬΄μ—‡μ„ μ‚¬μ©ν•΄λ„ μƒκ΄€μ—†λ‹¤κ³  μ΄λ΅ μƒμΌλ΅ λμ–΄μλ‹¤.

<BR>

### π“Ά μ „μ†΅ ν”„λ΅ν† μ½

<BR>

β” TCP

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300612-ced5dcbd-d11d-4cd7-9658-a6810e820072.png">

<br>

- TCPλ” Connectionμ„ μλ¦½ν•κΈ° μ „μ— μ‹ λΆ°μ„± μλ” Connectionμ„ λ§λ“¤κ³ μ 3 Way Handshake κ³Όμ •μ΄ μλ‹¤.

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300617-9612c59c-5e5b-46c7-97c0-8439373dbe40.png">

<br>

<BR>

β” UDP

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300618-6cc87782-c2c4-46ce-81f1-661a8f74b860.png">

<br>

- μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•μ§€ μ•λ”λ‹¤

<BR>

### π”¥ TCP VS UDP

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300622-a221b538-9130-4ec0-b324-2e22bd871659.png">

<br>

β” HTTP /0.9 ~ /2κΉμ§€λ” κΈ°λ³Έμ μΌλ΅ `TCP` μ‚¬μ©

<BR>

### π“ HTTP ν”„λ΅ν† μ½ νΉμ§•

<BR>

β” λΉ„μ—°κ²°μ„±(connectionless)

<bR>

- λΉ„μ—°κ²°μ„±μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ—°κ²°μ„ λ§Ίμ€ν›„μ— μ‘λ‹µμ„ λ§μΉλ©΄ κΈ°μ΅΄μ μ—°κ²°μ„ λλ” νΉμ„±μ„ λ§ν•©λ‹λ‹¤.

<BR>

μ¥μ )

- HTTPκ°€ μ—°κ²°μ„ μ μ§€ν•λ” κ²ƒμΌλ΅ μ„¤κ³„κ°€ λμ—λ‹¤λ©΄ μ„λ²„μ—μ„λ” λ‹¤μμ ν΄λΌμ΄μ–ΈνΈμ™€μ μ—°κ²°μ„ μ μ§€ν•μ—¬μ•Ό ν•©λ‹λ‹¤.

- μ΄μ— λ”°λ¥Έ λ¦¬μ†μ¤κ°€ λ§μ΄ λ°μƒν•κ² λ©λ‹λ‹¤.(κ΄€λ¦¬ν•΄μ•Όν•λ” λ¦¬μ†μ¤λ” ν΄λΌμ΄μ–ΈνΈμ μ£Όμ†, μƒνƒ, μ΄μ „μ— ν–λ μ”μ²­λ“¤μ— λ€ν• μ •λ³΄ λ“±κ³Ό κ°™μ€ κ²ƒλ“¤μ΄ μμ„κ²λ‹λ‹¤.)

- μ—°κ²°μ„ μ μ§€ν•κΈ° μ„ν• λ¦¬μ†μ¤λ¥Ό μ¤„μΈλ‹¤λ©΄ λ” λ§μ€ μ—°κ²°μ„ ν•  μ μμµλ‹λ‹¤.

<bR>

λ‹¨μ )

- μ„λ²„μ—μ„λ” ν΄λΌμ΄μ–ΈνΈμ λ°λ³µλ μ”μ²­μ—λ„ λ§¤λ² μ—°κ²°/ν•΄μ μ κ³Όμ •μ„ μν–‰ν•΄μ•Ό ν•©λ‹λ‹¤.

- μ΄μ— λ”°λ¥Έ μ¤λ²„ν—¤λ“κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.

<bR>

2. λ¬΄μƒνƒμ„± (Stateless)

<br>

### π“ HTTP /1.0

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300624-df8433a8-e635-405b-90ba-10655414e5a0.png">

<br>

<BR>

- μ”μ²­μ— λ²„μ „ μ •λ³΄κ°€ λ¶™μ–΄μ„ λ¶™μ–΄μ„ μ „μ†΅λκΈ° μ‹μ‘
- μ‘λ‹µ μ‹μ‘ λ¶€λ¶„μ— μƒνƒ μ½”λ“κ°€ μ¶”κ°€λ¨
- λ¨λ“  μ”μ²­κ³Ό μ‘λ‹µμ— ν—¤λ” κ°λ…μ΄ μ¶”κ°€λ¨

- μ»¤λ„¥μ… 1κ°λ‹Ή μ”μ²­ ν•λ‚, μ‘λ‹µ ν•λ‚λ¥Ό μ²λ¦¬ν•΄μ¤„ μ μλ‹¤.
- λ§¤λ² μƒλ΅μ΄ μ—°κ²°λ΅ μ„±λ¥ μ €ν•
- μ„λ²„ λ¶€ν• λΉ„μ© μ»¤μ§

<br>

### π“ HTTP /1.1

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300627-707ab2d9-8047-4b78-9416-26c755ffc777.png">

<br>

- Persistent Connection: μ§€μ •ν• timeout λ™μ• μ»¤λ„¥μ…μ„ λ‹«μ§€ μ•λ” λ°©μ‹

<br>

<img src="https://user-images.githubusercontent.com/62149784/188300630-a751b179-3f7b-4ee2-99b2-3fafa3e1f3f8.png">

<br>

- Pipelining: HTTP/1.1μ νμ΄ν”„λΌμ΄λ‹ μ΄λΌλ” κΈ°μ μ€ ν•λ‚μ μ»¤λ„¥μ…μ—μ„ ν• λ²μ— μμ°¨μ μΈ μ—¬λ¬ μ”μ²­μ„ μ—°μ†μ μΌλ΅ ν•κ³  κ·Έ μμ„μ— λ§μ¶° μ‘λ‹µμ„ λ°›λ” λ°©μ‹μΌλ΅ μ§€μ—° μ‹κ°„μ„ μ¤„μ΄λ” λ°©λ²•μ΄λ‹¤.

- λ‹¨μ 

  - `Head of Line Blocking`: μμ°¨μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ”μ²­ν•κ³  λ°›μ•„μ•Ό ν•λ‹¤ λ³΄λ‹ λ¨Όμ € λ°›μ€ μ”μ²­μ΄ λλ‚μ§€ μ•μΌλ©΄ κ·Έ λ’¤μ— μλ” μ”μ²­μ μ²λ¦¬κ°€ μ•„λ¬΄λ¦¬ λΉ¨λ¦¬ λλ‚λ„ λ¨Όμ € μ¨ μ”μ²­μ΄ λλ‚  λ•κΉμ§€ κΈ°λ‹¤λ ¤μ•Ό ν•λ” HTTPμ HOL(Head Of Line) Blocking λ¬Έμ κ°€ λ°μƒν–λ‹¤.

  - Header κµ¬μ΅°μ μ¤‘λ³µ

<br>

### π“ HTTP /2

<br>

- κΈ°μ΅΄ HTTP/1.X λ²„μ „μ μ„±λ¥ ν–¥μƒμ— μ΄μ μ„ λ§μ¶ ν”„λ΅ν† μ½
- ν‘μ¤€μ λ€μ²΄κ°€ μ•„λ‹ ν™•μ¥

<BR>

β” νΉμ§•

<bR>

<img src="https://user-images.githubusercontent.com/62149784/188300633-1951be47-b132-4953-bfbd-87e136b5dc07.png">

<br>

- λ¦¬μ†μ¤κ°„ μ°μ„  μμ„λ¥Ό μ„¤μ • κ°€λ¥
- Server push
- Header Compression: ν—¤λ”μ ν¬κΈ°λ¥Ό μ¤„μ—¬ νμ΄μ§€ λ΅λ“ μ‹κ°„ κ°μ†

- μ»¤λ„¥μ…μΌλ΅ λ™μ‹μ— μ—¬λ¬ κ°μ λ©”μ„Έμ§€λ¥Ό μ£Όκ³  λ°›μ„ μμΌλ©°, μ‘λ‹µμ€ μμ„μ— μƒκ΄€μ—†μ΄ streamμΌλ΅ μ£Όκ³  λ°›μ

- HTTP/1.1μ Connection Keep-Alive, Pipeliningμ κ°μ„ ν–λ‹¤.

<br>

### β¨ HTTP/1.1κ³Ό HTTP/2.0μ μ°¨μ΄λ”?

<Br>

1. binary framing (λ©”μ‹μ§€ μ „μ†΅ λ°©μ‹μ λ³€ν™”, frame λ¶„λ¦¬ & λ°”μ΄λ„λ¦¬ μΈμ½”λ”©)

2. multiplex streaming(ν•λ‚μ tcpμ—°κ²°μ•μ— μ—¬λ¬ μ¤νΈλ¦Όμ΄ μ΅΄μ¬ κ°€λ¥(μ¤νΈλ¦Όμ€ μ–‘λ°©ν–¥ λ°μ΄ν„° νλ¦„))

   2-1. Stream μ°μ„ μμ„ μ„¤μ •(λ¦¬μ†μ¤κ°„ μ°μ„  μμ„λ¥Ό μ„¤μ • κ°€λ¥)

3. μ¤‘λ³µν—¤λ”μ μ κ±°(ν—¤λ”λ¥Ό μ••μ¶•ν•κ³  μ¤‘λ³µλκ±°λ” μ΄μ „ μ¤νΈλ¦Όμ—μ„ κ°€μ Έμ™€ μ‚¬μ©)

4. server push (ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•μ§€ μ•μ€ λ¦¬μ†μ¤λ¥Ό μ„λ²„μ—μ„ λ³΄λ‚΄μ¤„ μ μλ‹¤)

<Br>

### π“ μ •λ¦¬

<Br>

### π” HTTP 1.0μ—μ„ λ°μƒν• μƒν™©

<br>

- λ§¤ μ”μ²­λ§λ‹¤ μ—°κ²°/ν•΄μ μ κ³Όμ •μ΄ λ°μƒν•μ€μµλ‹λ‹¤. 3λ²μ μ”μ²­μ΄ μ΄λ£¨μ–΄μ§„λ‹¤λ©΄ 3λ²μ μ—°κ²°/ν•΄μ  κ³Όμ •μ΄ μ΄λ£¨μ–΄μ Έμ•Ό ν–μΌλ―€λ΅ μ΄λ΅ μΈν• μ¤λ²„ν—¤λ“κ°€ λ°μƒν–κ³  μ‹κ°„μ μ§€μ—°μ΄ μ΄λ£¨μ–΄μ΅μ—μµλ‹λ‹¤.

μ΄λ” λΉ„μ—°κ²°μ„±, μ¦‰ μ—°κ²° μƒνƒλ¥Ό μ„λ²„μ—μ„ κ΄€λ¦¬ν•μ§€ μ•μμΌλ΅μ„ λ” λ§μ€ μ—°κ²°μ„ ν•  μ μκ² ν•κΈ° μ„ν•¨μ΄μ—μµλ‹λ‹¤. httpλ” λ¶νΉμ • λ‹¤μμ™€ ν†µμ‹ μ„ ν•κ²λ” μ„¤κ³„λμ—κΈ° λ•λ¬Έμ…λ‹λ‹¤.

λ”°λΌμ„ κ°™μ€ ν΄λΌμ΄μ–ΈνΈμ—μ„μ λ°λ³µλλ” μ—°κ²°μΌ κ²½μ° μ„μ—μ„ μ–ΈκΈ‰ν• λ¬Έμ λ¥Ό λ³΄μ™„ν•  ν•„μ”μ„±μ΄ λ€λ‘λμ—μµλ‹λ‹¤.

<Br>

### π HTTP 1.1μ—μ„ ν•΄κ²°ν• λ°©μ‹

<BR>

- HTTP 1.1μ—μ„λ” λ‘κ°μ μ—°κ²°λ°©μ‹μ΄ μ¶”κ°€λμ—μµλ‹λ‹¤ `Persistent connection` λ¨λΈκ³Ό λ” λ°μ „ν• `HTTP Pipelining` μ΄μ—μµλ‹λ‹¤.

- `Persistent connection`μ€ μ—°κ²°μ μ§€μ† μ‹κ°„μ„ μ„¤μ •ν–μµλ‹λ‹¤.μ„¤μ •ν•΄λ‘” μ—°κ²° μ§€μ†μ‹κ°„μ—λ” 1.0μ—μ„ λ°μƒν–λ μ—°κ²°/ν•΄μ  μ κ³Όμ •μ„ ν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤. ν•μ§€λ§ TCPμ νΉμ„±μƒ μ”μ²­ν›„μ— μ‘λ‹µμ„ κΈ°λ‹¤λ ¤μ•Όλ§ ν–μµλ‹λ‹¤. λ€κΈ°μ‹κ°„ λ™μ•μ—λ” λ™μ‘μ„ μν–‰ν•  μ μ—†μ—μµλ‹λ‹¤.

- `Pipelining`μ€ μ΄λ¥Ό κ°μ„ ν• λ¨λΈμ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ”μ²­μ„ μ‘λ‹µμ— μƒκ΄€μ—†μ΄ λ³΄λ‚΄κ³  Serverμ—μ„λ” μ‘λ‹µμ„ μ”μ²­μ΄ λ“¤μ–΄μ¨ μμ„λ€λ΅ λ³΄λ‚΄μ¤λ‹λ‹¤. μ΄λ• ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ‘λ‹µμ μμ„κ°€ μλ»λκ±° μ¤‘κ°„μ— λΉ μ΅λ‹¤λ©΄ λ„λ½μ΄ λ°μƒν• μ”μ²­μ„ λ‹¤μ‹ λ³΄λ‚΄κ² λ©λ‹λ‹¤.

- ν•μ§€λ§ λ¬Έμ κ°€ μ—†μ–΄λ³΄μ΄λ” Pipeliningμ—λ„ λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤.`HOL(Heod Of Line) Blocking` λ¬Έμ μ€μµλ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈ μ—μ„λ” 1,2,3 λ² μ”μ²­μ„ λ³΄λƒμµλ‹λ‹¤. μ„λ²„μ—μ„λ” 1,2,3λ²μ„ μ²λ¦¬ν•λ”λ° κ°κ° 1λ²μ€ 100μ΄ 2λ²μ€ 20μ΄ 3λ²μ€ 10μ΄κ°€ μ†μ”λλ‹¤κ³  κ°€μ •ν•κ² μµλ‹λ‹¤. 2,3λ² μ”μ²­μ€ μ΄λ―Έ μν–‰μ„ λ‹¤ ν–μ§€λ§ 1λ²μ„ λ¨Όμ € μ‘λ‹µ λ³΄λ‚΄μ•Ό ν•λ―€λ΅ 2,3λ² μ”μ²­μ— λ€ν• μ‘λ‹µμ€ κ³„μ† blockingμ΄ λ©λ‹λ‹¤. μ΄λ¥Ό HOL Blockingμ΄λΌ ν•©λ‹λ‹¤.

<BR>

### π HTTP 2.0μ—μ„ ν•΄κ²°ν• λ°©μ‹, νΉμ„±

<bR>

β” binary framing

<bR>

- http1.1 μ—μ„ text ν•μ‹μΌλ΅ μ „λ‹¬λλ μ”μ²­, μ‘λ‹µ λ©”μ‹μ§€λ” ν”„λ μ„ λ‹¨μ„λ΅ λ‚λ„μ–΄μ§€κ³  λ°”μ΄λ„λ¦¬ ν•μ‹μΌλ΅ μΈμ½”λ”© λ©λ‹λ‹¤. λ°”μ΄λ„λ¦¬λ” μ»΄ν“¨ν„°κ°€ λ” μ΄ν•΄ν•κΈ° μ‰½μµλ‹λ‹¤. μ΄λ΅ μΈν•΄ νμ‹±, μ „μ†΅ μ†λ„κ°€ λ” λΉ¨λΌμ΅μµλ‹λ‹¤.

<BR>

β” multiplex streaming

<BR>

<IMG SRC="https://t1.daumcdn.net/cfile/tistory/9903B4455BE1592C10">

<BR>

- Tcp μ—°κ²°μ΄ μ„±λ¦½λν›„ Nκ°μ μ¤νΈλ¦Όμ„ μƒμ„±ν•  μ μμµλ‹λ‹¤.

- μ¤νΈλ¦Όμ€ νμ΄ν”„μ™€ λ‹¤λ¥΄κ² μ–‘λ°©ν–¥ λ°μ΄ν„° νλ¦„μ΄ κ°€λ¥ν•κ³  κ° μ¤νΈλ¦Όμ—λ” κ³ μ  μ‹λ³„μμ™€ μ°μ„ μμ„ μ •λ³΄κ°€ μμµλ‹λ‹¤.

- κ° λ©”μ‹μ§€λ” ν•λ‚μ λ…Όλ¦¬μ  HTTP λ©”μ‹μ§€(μ”μ²­ or μ‘λ‹µ)μ΄κ³  ν•λ‚ μ΄μƒμ ν”„λ μ„μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤.

- ν”„λ μ„μ„ μ „λ‹¬λ°›μ€ μ½μ—μ„λ” ν”„λ μ„μ ν—¤λ”μ— μλ” μ¤νΈλ¦Ό μ‹λ³„μλ¥Ό ν†µν•΄ ν”„λ μ„μ„ μ¬μ΅°λ¦½ν•μ—¬ μ”μ²­/μ‘λ‹µ λ©”μ‹μ§€λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

<BR>

β” μ”μ²­ λ° μ‘λ‹µ λ‹¤μ¤‘ν™”

<BR>

<IMG SRC="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FoLNXw%2Fbtry9eZiPYy%2FlbqbVXhG4IkmpFRj2lh5Kk%2Fimg.png">

<BR>

- μ„μ κ·Έλ¦Όμ€ 3κ°μ λ³‘λ ¬ μ¤νΈλ¦Όμ„ λ³΄μ—¬μ¤λ‹λ‹¤.μ„λ²„μ—μ„λ” μ”μ²­ 1μ— λ€ν• dataλ¥Ό ν”„λ μ„ λ‹¨μ„λ΅ λ³΄λ‚΄μ£Όκ³  μκ³  μ”μ²­ 3μ— λ€ν• header, dataλ¥Ό ν”„λ μ„μ— μ¶”κ°€ν•μ—¬ λ³΄λ‚΄μ£Όκ³  μκ³  ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ”μ²­ 5μ— λ€ν• dataλ¥Ό μ„λ²„μ—κ² λ³΄λ‚΄μ£Όκ³  μμµλ‹λ‹¤.

- HTTP λ©”μ‹μ§€λ¥Ό λ…λ¦½λ ν”„λ μ„μΌλ΅ μ„Έλ¶„ν™” ν–κ³  ν”„λ μ„μ„ λ°›μ€μ½μ—μ„ λ‹¤μ‹ μ΅°λ¦½ ν•©λ‹λ‹¤.

* μ—¬λ¬ μ”μ²­μ„ ν•λ‚λ„ μ°¨λ‹¨ν•μ§€ μ•κ³  λ³‘λ ¬λ΅ μΈν„°λ¦¬λΉ™ν•  μ μμµλ‹λ‹¤.

* μ—¬λ¬ μ‘λ‹µμ„ ν•λ‚λ„ μ°¨λ‹¨ν•μ§€ μ•κ³  λ³‘λ ¬λ΅ μΈν„°λ¦¬λΉ™ν•  μ μμµλ‹λ‹¤.

* λ‹¨μΌ μ—°κ²°μ„ μ‚¬μ©ν•μ—¬ μ—¬λ¬ μ”μ²­κ³Ό μ‘λ‹µμ„ λ³‘λ ¬λ΅ μΈν„°λ¦¬λΉ™ν•  μ μμµλ‹λ‹¤.

<BR>

https://dkrnfls.tistory.com/289
